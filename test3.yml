---
- hosts: 192.168.0.104
  collections:
    - fortinet.fortimanager
  connection: httpapi
  vars:
     ansible_httpapi_use_ssl: True
     ansible_httpapi_validate_certs: False
     ansible_httpapi_port: 443
  tasks:
   - name: Add a device to the Device Manager database.
     fmgr_dvm_cmd_add_device:
        bypass_validation: False
        dvm_cmd_add_device:
           adom: SD-WAN-Lab
           device:
              device action: add_model
              adm_usr: fgtadmin
              mgmt_mode: fmgfaz
              name: fgt-warehouse-ansible
              os_type: fos
              os_ver: '6.0'
              #platform_str: FortiGate-81E-POE
              patch: FortiGate-81E-POE
              sn: FG81EPTK19002078
           flags:
             - none
           groups:
             -
                 name: warehouse
                 vdom: SD-WAN-Lab
